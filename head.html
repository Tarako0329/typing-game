<!-- headタグの共通部分 -->

    <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'>
    <META http-equiv='Content-Type' content='text/html; charset=UTF-8'>
    <!--フォントCDN-->
    <!-- pwa化・各ローカル端末にフォントファイルをキャッシュして参照
    <link rel='preconnect' href='https://fonts.googleapis.com'>
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
    <link href='https://fonts.googleapis.com/css2?family=Murecho:wght@200&family=Allerta+Stencil&family=Cabin+Sketch&family=Chewy&family=Fredericka+the+Great&family=Kranky&family=Londrina+Outline&family=Zen+Kurenaido&display=swap' rel='stylesheet'>
    -->
    <link rel='apple-touch-icon' href='apple-touch-icon.png'>

    <!-- Bootstrap CSS 
    <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css' integrity='sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO' crossorigin='anonymous'>-->
    <link rel='stylesheet' href='css/bootstrap/4.1.3/css/bootstrap.min.css'>
    <!-- Bootstrap Javascript(jQuery含む) -->
    <!--<script src='https://code.jquery.com/jquery-3.4.1.min.js' integrity='sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=' crossorigin='anonymous'></script>-->
    <!--<script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js' integrity='sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49' crossorigin='anonymous'></script>-->
    <!--<script src='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js' integrity='sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy' crossorigin='anonymous'></script>-->
    <script src='script/jquery-3.6.0.min.js'></script>
    <script src='script/popper.min.js'></script>
    <script src='css/bootstrap/4.1.3/js/bootstrap.min.js'></script>
    <!-- fontawesome 
    <script src='https://kit.fontawesome.com/d284aacf89.js' crossorigin='anonymous'></script>-->
    <link href="css/FontAwesome/6.1.1-web/css/all.css" rel="stylesheet">
    <!-- オリジナル CSS -->
    <!--サイト共通-->
    <link rel='stylesheet' href='css/style.css?<?php echo $time; ?>' >
    <link rel='stylesheet' href='css/style_color_<?php echo $color_No;?>.css?<?php echo $time; ?>' >
    <link rel='manifest' href='manifest.webmanifest'>
    <script>
        /*
        if('serviceWorker' in navigator){
        	navigator.serviceWorker.register('serviceworker.js').then(function(){
        		console.log("Service Worker is registered!!");
        	});
        }
        */
        //alert("Are you ok?");
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('serviceworker.js')
                .then(registration => {
                    // 登録成功
                    console.log("Service Worker is registered!!");
                    
                    //serviceworker.js　の更新確認(bit単位で比較し相違があったら更新する。らしい)
                    registration.onupdatefound = function() {
                        console.log('Service Worker is Updated');
                        registration.update();
                    }
                })
                .catch(err => {
                    // 登録失敗
                    console.log("Service Worker is Oops!!");
                    //alert("Service Worker is Oops!!");
            });
        }

        if(window.matchMedia('(display-mode: standalone)').matches){
            // ここにPWA環境下でのみ実行するコードを記述
        }
        //スマフォで:active :hover を有効に
        document.getElementsByTagName('html')[0].setAttribute('ontouchstart', '');
    </script>